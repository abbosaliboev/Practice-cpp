<SecondScreen>:
    name: 'second'
    BoxLayout:
        orientation: 'vertical'
        padding: 60, 20
        spacing: 0
        canvas.before:
            Color:
                rgba: 150/255, 150/255, 150/255, 1   
            Rectangle:
                size: self.size
                pos: self.pos

        BoxLayout:
            size_hint_y: 0.1 

        BoxLayout:
            size_hint_y: None 
            pos_hint: {'center_x': 0.5}
            height: '350dp'           
            spacing: 50
            Button:
                id: main_button
                padding: 10, 20
                text: root.product_data if root.product_data else '' # Binds product_data to the button text
                pos_hint: {'center_y': 0.5}
                size_hint_y: 1
                text_size: self.size 
                background_normal: ''
                background_color: (48/255, 84/255, 150/255, 0)                                 
                halign: 'center'
                valign: 'middle'
                font_name: 'NanumGothicBold.ttf'  # 한글을 지원하는 폰트를 추가함.
                on_press: app.root.current = 'main'
                canvas.before:
                    Color:                        
                        rgba: 60/255, 165/255, 113/255, 1  
                    RoundedRectangle:
                        size: self.size
                        pos: self.pos
                        radius: [18, 18, 18, 18]    

        BoxLayout:
            size_hint_y: 0.1  

        BoxLayout:
            size_hint_y: None
            height: '100dp'  
            pos_hint: {'center_x': 0.6}
            spacing: 50
            BoxLayout:
                id: touch_box
                size_hint: 1, None
                height: '200dp'
                on_touch_down: root.on_touch_down(args[1])
                on_touch_move: root.on_touch_move(args[1])






class SecondScreen(Screen):
    product_data = StringProperty("")

    def on_touch_down(self, touch):
        self.touch_start_x = touch.x
        self.touch_start_y = touch.y
        return super(SecondScreen, self).on_touch_down(touch)

    def on_touch_move(self, touch):
        if abs(touch.x - self.touch_start_x) > 50:
            if touch.x > self.touch_start_x:
                self.on_swipe_right()
            else:
                self.on_swipe_left()
        return super(SecondScreen, self).on_touch_move(touch)

    def on_swipe_left(self):
        self.manager.current = 'main'

    def on_swipe_right(self):
        self.add_to_basket()
        self.manager.current = 'basket'

    def add_to_basket(self):
        # Your logic to add item to the basket
        pass
